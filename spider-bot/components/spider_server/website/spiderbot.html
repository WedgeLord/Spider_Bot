<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title></title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <div id="buttons">
    <table>
      <tbody>
        <tr>
          <td><button>2</button></td>
          <td><button>1</button></td>
        </tr>
        <tr>
          <td><button>3</button></td>
          <td><button>4</button></td>
        </tr>
      </tbody>
    </table>
    <p id="legDisplay"></p>
    </div>


    <div id="panel">
    <div>
      <p id="label_pivot">Select pivot</p>
      <input id="slider_pivot" type="range" name="slider_pivot"/>
    </div>
    <div>
      <p id="label_height">Select height</p>
      <input id="slider_height" type="range" name="slider_height" />
    </div>
  </div>
  </body>

  <script type="text/javascript">
    var leg, height, pivot;
    height = pivot = 90;
    function ID( element ) { 
        return document.getElementById( element ); 
    }
    function legSelect(n) {
      leg = n;
      ID("legDisplay").innerHTML = "Leg Selected: " + leg;
    }
    document.querySelector("body").addEventListener("click", (event) => {
      if (event.target.tagName === "BUTTON") {
        legSelect(event.target.innerHTML);
      }
    });
    document.querySelector("body").addEventListener("input", (event) => {
        if (event.target.name === "slider_height") {
            height = event.target.value | 0; // bitwise operations remove decimal points :)
            ID("label_height").innerHTML = "Height motor: " + height + "%"
        }
        if (event.target.name === "slider_pivot") {
            pivot = event.target.value | 0;
            ID("label_pivot").innerHTML = "pivot motor: " + pivot + "%"
        }
        try {
          fetch( `http://192.168.4.1/setMotor?leg=${leg}&height=${height}&pivot=${pivot}` )
            .then( (res) => {} );
        } catch ( err ) {
          alert( 'connection error', err );
        }
    });

    legSelect(1);
  </script>
</html>

<style>
  body {
    text-align: center;
    width: 600px;
  }
  #buttons {
    display: flex;
    flex-direction: column;
    width: 320px;
  }
  button {
    padding: 75px;
  }
  #panel {
    display: flex;
    flex-direction: row;
  }
  #panel > * { 
    padding: 10px;
  }
  #slider_pivot {
    width: 200px;
  }
  #slider_height {
    writing-mode: vertical-lr;
    height: 200px;
  }
</style>
